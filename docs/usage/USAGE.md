Usage
=======
Идея CrossPM (как пакетного менеджера) примерно такая же, как и других популярных пакетных менеджеров (npm, pyenv, etc). Можно придерживаться примерно следующего алгоритма:
1. **dependencies.txt** - ручное создание файла зависимостей с именами пакетов и маской
2. `crosspm lock` - создание файла **dependencies.txt.lock**, где зафиксированы последнии версии, подподающие под условия [файла конфигурации](../config/CONFIG)
3. `crosspm download` - скачивание файлов из **lock**-файла, причём по умолчанию действует рекурсивное обновление (если есть **lock**-файл в скаченном архиве, он тоже его скачает)
4. Использование скаченных пакетов - получить доступ к скаченным пакетам можно разными путями, [подробнее](..config/OUTPUT)

`crosspm download` может включает в себя `lock` команду, т.е. если вы используете файл с масками, то он ищет последние при загрузке. 

### crosspm lock
Команда lock фиксирует текущие версии удовлетворяющие маскам, указанным в файле dependencies.txt. Фиксирует версии в выходной файл, обычно, dependencies.txt.lock.
Запускаться должен разработчиком, полученный файл **dependencies.txt.lock** сохраняется в гит репозитории компонента для повторяемости сборки в будущем. 
Имея, например, следующий файл манифест **dependencies.txt**:
```bash
boost                *                    1.55-pm
poco                 *-                   1.46-pm
openssl              1.0.20-              1.0.1i-pm
log4cplus            1.1.6                1.1-pm
pyyaml               3.10.115             3.10-python-3.4
protobuf             0.>=1.*              default
gtest                0.0.6                default
gmock                0.0.5                default
```
Выполним команду **lock**:
```bash
crosspm lock dependencies.txt dependencies.txt.lock
```
Будет получен следующий файл **dependencies.txt.lock**:
```bash
boost                1.55.0                            1.55-pm
poco                 1.46.11075-develop-vc110-x86      1.46-pm
openssl              1.0.20-develop                    1.0.1i-pm
log4cplus            1.1.6                             1.1-pm
pyyaml               3.10.115                          3.10-python-3.4
protobuf             1.10.343                          default
gtest                0.0.6                             default
gmock                0.0.5                             default
```
